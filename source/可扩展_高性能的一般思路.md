title: 可扩展、高性能一般思路
date:  2011-9-26 08:08 
tags: [高性能, 可扩展]
---

####硬件
更快的CPU
更大的RAM
高速的网络
高吞吐量的I/O

####负载均衡器

1. 基于DNS的 集群
优点：防止单一的中央节点
需要域名服务器的支持

 镜像服务器技术 CDN
基于特定服务器软件的负载均衡
基于DNS的负载均衡`
基于四层交换技术的负载均衡
基于七层交换技术的负载均衡
站点镜像技术 
站点镜像技术实际上利用了DNS负载均衡技术。

2. 基于Nginx
优点：配置灵活
缺点需要中央节点

3. 二级 Nginx
优点：可扩展行强
缺点：转发延时大

####应用服务器功能
1. 集群Session拷贝
优点：只是提供功能可用

2. 根据地域或者IP划分服务器
优点：减少Session拷贝
缺点: 需要很多服务器

3. Session集中管理
优点：避免Session复制的开销（CPU和内存）

4. 使用Cookie代替Session
多个应用使用单点登录
Cookie数据需要加密，QQ密码在本地就加密了

####数据库
1. 数据库 分表、分库、读写分离
可扩展系行差，系统变化比较大。系统变化频繁。
数据库水平、垂直分隔
2.缓存MemCache
考虑mediawiki, 10亿条数据。1000万个用户。每秒并发10W 